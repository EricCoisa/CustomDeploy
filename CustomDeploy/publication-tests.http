# Testes para o endpoint de Publicações - COM METADADOS

## 1. Login para obter token JWT
POST http://localhost:5092/auth/login
Content-Type: application/json

{
  "username": "admin",
  "password": "password"
}

### 2. Listar todas as publicações (agora com metadados)
GET http://localhost:5092/deploy/publications
Authorization: Bearer YOUR_JWT_TOKEN

### 3. Obter detalhes de uma publicação específica (com metadados)
GET http://localhost:5092/deploy/publications/carteira
Authorization: Bearer YOUR_JWT_TOKEN

### 4. Obter estatísticas das publicações
GET http://localhost:5092/deploy/publications/stats
Authorization: Bearer YOUR_JWT_TOKEN

### 5. Buscar publicação que não existe
GET http://localhost:5092/deploy/publications/inexistente
Authorization: Bearer YOUR_JWT_TOKEN

### 6. Teste deploy que irá criar metadados automaticamente
POST http://localhost:5092/deploy
Content-Type: application/json
Authorization: Bearer YOUR_JWT_TOKEN

{
  "repoUrl": "https://github.com/octocat/Hello-World.git",
  "branch": "master",
  "buildCommand": "echo 'Build realizado' && mkdir dist && echo '<h1>Hello Deploy!</h1>' > dist/index.html",
  "buildOutput": "dist",
  "targetPath": "C:\\temp\\wwwroot\\hello-world"
}

### 7. Após o deploy acima, consulte a nova publicação com metadados
GET http://localhost:5092/deploy/publications/hello-world
Authorization: Bearer YOUR_JWT_TOKEN

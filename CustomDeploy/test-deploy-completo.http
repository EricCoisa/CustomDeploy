### Login para obter token
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "admin@customdeploy.com",
  "senha": "Admin123@"
}

###

### Criar Deploy Simples (apenas banco)
POST {{baseUrl}}/deploys
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "siteName": "MeuSite",
  "applicationName": "MinhaApp",
  "comandos": [
    {
      "comando": "git pull origin main",
      "ordem": 1
    },
    {
      "comando": "dotnet build",
      "ordem": 2
    }
  ],
  "plataforma": "Windows"
}

###

### Executar Deploy Completo (IIS + banco)
POST {{baseUrl}}/deploys/executar
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "repoUrl": "https://github.com/usuario/projeto.git",
  "branch": "main",
  "buildCommands": [
    "npm install",
    "npm run build",
    "dotnet build --configuration Release"
  ],
  "buildOutput": "bin/Release/net8.0",
  "iisSiteName": "MeuSiteIIS",
  "targetPath": "C:\\inetpub\\wwwroot\\MeuSiteIIS",
  "applicationPath": "/MinhaApp"
}

###

### Listar todos os deploys
GET {{baseUrl}}/deploys
Authorization: Bearer {{token}}

###

### Obter deploy específico
GET {{baseUrl}}/deploys/1
Authorization: Bearer {{token}}

###

### Atualizar status do deploy
PUT {{baseUrl}}/deploys/1/status
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "status": "Concluído",
  "mensagem": "Deploy finalizado com sucesso"
}

###

### Obter histórico do deploy
GET {{baseUrl}}/deploys/1/historico
Authorization: Bearer {{token}}

###

@baseUrl = https://localhost:7001
@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
